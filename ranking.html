<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ranking LCDM</title>
<style>
body{font-family:sans-serif;background:#111;color:#fff;padding:12px}
.container{max-width:900px;margin:0 auto}
.item{display:flex;align-items:center;justify-content:space-between;padding:10px;background:#222;margin:8px;border-radius:8px}
.btn{background:gold;color:black;padding:6px 10px;border-radius:6px;border:none}
</style>
</head>
<body>
<div class="container">
  <h1>üèÜ Ranking</h1>
  <div id="list"></div>
  <div style="text-align:right;margin-top:12px">
    <button class="btn" onclick="location.href='album.html'">Volver</button>
  </div>
</div>
<script src="frontend-api.js"></script>
<script>
async function loadRanking(){
  const res = await getJSON('get_users.php');
  const list = document.getElementById('list'); list.innerHTML='';
  if(res.success && res.users){
    res.users.sort((a,b)=> (b.puntos||0) - (a.puntos||0));
    res.users.forEach((u, i)=>{
      const div = document.createElement('div'); div.className='item';
      div.innerHTML = `<div style="display:flex;align-items:center;gap:12px"><strong>${i+1}.</strong><img src="${u.avatar}" style="width:48px;height:48px;border-radius:50%"><div><strong>${u.usuario}</strong><div style="font-size:0.9rem;color:#ccc">${u.bio||''}</div></div></div><div>${u.puntos||0} pts</div>`;
      list.appendChild(div);
    });
  } else list.innerHTML = '<p>No hay usuarios todav√≠a</p>';
}
loadRanking();
setInterval(loadRanking, 5000);
</script>
</body>
</html>
